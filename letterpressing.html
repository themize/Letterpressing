<!DOCTYPE html>
<html>
<body>
	<h1>Letterpressing</h1>
	<button type="button" 
	onclick="testFill()">
	Try me.</button>
	<p id="demo"></p>

<script type="text/javascript">
function testTime() {
	console.time("alphabetize1");
	for (i = 0; i < 300000; i++) {
		alphabetize1("abcdefghijklmnopqrstuvwxyz");
	}
	console.timeEnd("alphabetize1");
	console.time("alphabetize2");
	for (i = 0; i < 300000; i++) {
		alphabetize2("abcdefghijklmnopqrstuvwxyz");
	}
	console.timeEnd("alphabetize2");
}
function testFill() {
	testTime();

	// TESTING: swap out whatever test function here, and stick the output in the "demo" p-tag
	document.getElementById("demo").innerHTML = alphabetize1("abcdefghijklmnopqrstuvwxyz");
}

function findMatches() {
	var boardLetters = "abcdettpippaenkuy"; // all the letters on the board
	var boardSorted  = "aabcdeeiknpppttuy"; // the board sorted alphabetically
	var dictionary = 
		["cat","dog","rat","bat","puppy","kitten","iguana","emu"]; // dictionary of allowed words
	var dictionarySorted = 
		["act","dgo","art","abt","pppuy","eikntt","aaginu","emu"]; // dictionary of allowed words, with each word sorted alphabetically (indexed to match corresponding value of the dictionary array)

	var dictionaryMatches = []; // array to hold matching words 

	var output = ""; // TESTING: string for outputting matches
	var outputRegexes = ""; // TESTING: string for regexes

	// go through every word in the dictionary
	for (w = 0; w < dictionarySorted.length; w++) {
		var wordSorted = dictionarySorted[w]; // grab the current word's letters for simplicity
		
		// construct the regex to check for this word
		var pattern = wordSortedPattern(wordSorted);
		var wordRegex = new RegExp(pattern); // convert our string pattern into a regex object

		// check whether we can make the word with the board's letters
		if (boardSorted.search(wordRegex) >= 0) {
			dictionaryMatches[dictionaryMatches.length] = dictionary[w]; // on match, add the word to our list of matches
			output = output + " " + dictionary[w]; // TESTING: add the matched words to our test string
		}
	}

	return output;
}

function wordSortedPattern(wordSorted) {
	var pattern = "\\w*"; // start with the all-letters wildcard, we need the slash to show up in the string for when we convert it to a RegExp
	// loop through each letter in the word
	for (l = 0; l < wordSorted.length; l++) {
		// require the letter, then allow anything between it and the next required letter
		pattern = pattern + wordSorted.charAt(l) + "\\w*";
	}
	return pattern;
}

function alphabetize2(word) {
	// alphabet of regexes
	var alphabetRegex = [/a/g,/b/g,/c/g,/d/g,/e/g,/f/g,/g/g,/h/g,/i/g,/j/g,/k/g,/l/g,/m/g,/n/g,/o/g,/p/g,/q/g,/r/g,/s/g,/t/g,/u/g,/v/g,/w/g,/x/g,/y/g,/z/g]
	var alphabet = ["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];
	var wordAlphabetized = "";
	for (l = 0; l < alphabet.length; l++) {
		//var letterRegex = RegExp(alphabet[l],"g");
		var matches = word.match(alphabetRegex[l]);
		if (matches) {
			for (count = 0; count < matches.length; count++) {
				wordAlphabetized = wordAlphabetized + alphabet[l];
			}
		}
	}
	return wordAlphabetized;
}

function alphabetize1(word) {
	var alphabet = ["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];
	var wordAlphabetized = "";
	for (l = 0; l < alphabet.length; l++) {
		var letterRegex = RegExp(alphabet[l],"g");
		var matches = word.match(letterRegex);
		if (matches) {
			for (count = 0; count < matches.length; count++) {
				wordAlphabetized = wordAlphabetized + alphabet[l];
			}
		}
	}
	return wordAlphabetized;
}
</script>

</body>
</html>
